#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import CardTransition kivy.uix.screenmanager.CardTransition
#:import SwapTransition kivy.uix.screenmanager.SwapTransition
#:import WipeTransition kivy.uix.screenmanager.WipeTransition
#:import FallOutTransition kivy.uix.screenmanager.FallOutTransition
#:import RiseInTransition kivy.uix.screenmanager.RiseInTransition
#:import CheckBox kivy.uix.checkbox

<PantallaScreen>:
    name: 'PantallaScreen'
    id: PantallaScreen
    BoxLayout:
        id: PantallaLayout
        orientation: 'vertical'
        rows: 2
        color: 1,1,1,1
        BoxLayout:
            orientation: 'horizontal'
            id: upperBar
            space: 40
            size_hint: 1, .05
            Button:
                id: menuButton
                text: "1"
                size_hint: .07, 1
                on_press: root.mostrar_menu()
            Label:
                id: textoPantalla
                text: "Pantalla x"
                font_color: 0,1,0,1
                size_hint: .15, 1
            BoxLayout:
                
            Button:
                id: srchButton
                text: "Srch"
                size_hint: .07, 1

        
        Sm:
            id: Screens

   
<LoginScreen>:
    id: LoginScreen
    name: 'LoginScreen'
    BoxLayout:
        orientation: 'vertical'
        space: 20
        size_hint: .4, .4
        pos_hint: {'center_x': .5, 'center_y': .5}
        Label:
            id:LoginLabel
            text: "Login"
            size_hint: 1, .1
        TextInput:
            id: inputCorreoL
            hint_text: "Correo"
            size_hint: 1, .2
        TextInput:
            id: inputContrasenaL
            hint_text: "Contraseña"
            size_hint: 1, .2
        Button:
            text: "Ingresar"
            size_hint: 1, .2
            on_press: root.validar_login()
        Label:
            id: loginIncorrectoLabel
            text:""
            size_hint: 1, .2
        BoxLayout:
            size_hint: 1, .1
            orientation: 'horizontal'
            Label:
                text: "No tienes cuenta?"
            Button:
                id: linkRegistro
                text: "Registrate!"
                on_press:  root.manager.current='RegisterScreen'

<RegisterScreen>:
    id: ScreenLayout
    name: 'RegisterScreen'
    BoxLayout: 
        id: ScreenLayout
        orientation: 'vertical'
        space: 20
        size_hint: .4, .4
        pos_hint: {'center_x': .5, 'center_y': .5}
        Label:
            id: RegisterLabel
            text: "Registro"
            size_hint: 1, .1
        TextInput:
            id: inputCorreo
            text: "Correo"
            size_hint: 1, .2
        TextInput:
            id: inputContrasena
            text: "Contraseña"
            size_hint: 1, .2
        Button:
            id: ButtonRegistrarse
            text: "Registrarse"
            size_hint: 1, .2
            on_press: root.registrar()
            on_press: root.manager.current='LoginScreen'
        GridLayout:
            size_hint: 1, .2
        BoxLayout:
            size_hint: 1, .1
            orientation: 'horizontal'
            Label:
                text: "Ya tienes una cuenta?"
            Button:
                id: linkLogin
                text: "Ingresa!"
                on_press: root.manager.current='LoginScreen'

<MenuPop>:
    id: MenuPopup
    title: ""
    separator_height: 0
    size_hint: .2, 1
    pos_hint: {'x': 0, 'top': 1}
    pos: 0, 500
    BoxLayout:
        orientation: 'vertical'
        space: 10
        Button:
            id: ButtonExperimentos
            text:"Experimentos"
            size_hint: 1, .07
            on_press: root.pasar_a_experimentos()
        Button:
            id: ButtonPersonas
            text:"Personas"
            size_hint: 1, .07
            on_press: root.pasar_a_personas()
        Button:
            id: ButtonAromas
            text: "Aromas"
            size_hint: 1, .07
            on_press: root.pasar_a_aromas()
        BoxLayout:

        Button:
            id: ButtonSalir
            text: "Salir"
            size_hint: 1, .07


<Brain>:
    name: 'Brain'
    Button:
        background_normal: "Brain1.jpg"
        text: "Pantalla del gif"
        on_press: root.manager.current='Experimentos'

<Experimentos>:
    name: 'Experimentos'            
    BoxLayout:
        orientation: 'vertical'
        space: 20
        size_hint: .4, .05
        pos_hint: {'center_x': .5, 'center_y': 0.94}
        Button:
            text: "Crear experimento "
            on_press: root.crear_exp()

<ExperimentoPop>:
    id: ExperimentoPopup
    title: "Crear experimento"
    title_align: 'center'
    separator_height: 0.9
    size_hint: .6, 0.5
    pos_hint: {'x': 0.2, 'top': 0.75}
    pos: 0, 500
    BoxLayout:
        orientation: 'vertical'
        space: 10
        TextInput:
            id: inputEmpresaL
            hint_text: "Nombre empresa"
            size_hint: 1, .30
        TextInput:
            id: inputNombreL
            hint_text: "Nombre experimento"
            size_hint: 1, .30
        Button:
            id: ButtonAromas
            text: "Añadir personas"
            size_hint: 1, .30
            on_press: root.anadir_personas_exp()
        Button:
            id: ButtonAromas
            text: "Añadir aromas"
            size_hint: 1, .30
            on_press: root.anadir_aromas_exp()
        BoxLayout:
            orientation: "horizontal"
            Button:
                id: ButtonCrear
                text: "Crear"
                size_hint: 1, .30
                on_press: root.registrarExp(), root.confirmar_exp()
            Button:
                id: ButtonSalirCrear
                text: "Salir"
                size_hint: 1, .30
                on_press: root.dismiss()

<AnadirPersonasExpPop>:
    id: AnadirPersonasExpPopup
    title: "Añadir personas al experimento"
    title_align: 'center'
    separator_height: 0.9
    size_hint: .6, 0.5
    pos_hint: {'x': 0.2, 'top': 0.75}
    pos: 0, 500
    BoxLayout:
        orientation: 'vertical'
        space: 10
        Button:
            id: ButtonAnadirPer1
            text:"Jorge Herrera"
            size_hint: 1, .22
            on_press: root.btn_chk()
        Button:
            id: ButtonAnadirPer2
            text:"Esteban Osorio"
            size_hint: 1, .22
            on_press: root.btn_chk()
        Button:
            id: ButtonAnadirPer3
            text:"Samuel Cadavid"
            size_hint: 1, .22
            on_press: root.btn_chk()
        BoxLayout:
            orientation: "horizontal"
            Button:
                id: ButtonSalirCrear
                text: "Salir"
                size_hint: 1, .22
                on_press: root.dismiss()

<AnadirAromasExpPop>:
    id: AnadirAromasExpPopup
    title: "Añadir aromas al experimento"
    title_align: 'center'
    separator_height: 0.9
    size_hint: .6, 0.5
    pos_hint: {'x': 0.2, 'top': 0.75}
    pos: 0, 500
    BoxLayout:
        orientation: 'vertical'
        space: 10
        Button:
            id: ButtonAnadirAr1
            text:"Aroma 1"
            size_hint: 1, .22
            on_press: root.btn_chk()
        Button:
            id: ButtonAnadirAr2
            text:"Aroma 2"
            size_hint: 1, .22
            on_press: root.btn_chk()
        Button:
            id: ButtonAnadirR3
            text:"Aroma 3"
            size_hint: 1, .22
            on_press: root.btn_chk()
        BoxLayout:
            orientation: "horizontal"
            Button:
                id: ButtonSalirCrear
                text: "Salir"
                size_hint: 1, .22
                on_press: root.dismiss()

<confirmarExpPop>:
    id: confirmarExpPopup
    title: ""
    title_align: 'center'
    separator_height: 0
    size_hint: .4, 0.3
    pos_hint: {'x': 0.4, 'top': 0.55}
    pos: 0, 500
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Experiemento creado"
        BoxLayout:
            orientation: "horizontal"
            Button:
                id: ButtonSalirCrear
                text: "Salir"
                size_hint: 1, .22
                on_press: root.dismiss()

<Personas>:
    name: 'Personas'
    Button:
        text: "Pantalla de personas"
        on_press: root.manager.current='Aromas'

<Aromas>:

    name:'Aromas'
    Button:
        text: "Pantalla de aromas"
        on_press: root.manager.current='Brain'
<Ssm>:
    id: Sscreens
    transition: FallOutTransition()
    LoginScreen:
    RegisterScreen:
    PantallaScreen:
<Sm>:
    id: Screens
    transition: SlideTransition()
    Brain:
    Experimentos:
    Personas:
    Aromas: