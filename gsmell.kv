#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import SlideTransition kivy.uix.screenmanager.SlideTransition
#:import CardTransition kivy.uix.screenmanager.CardTransition
#:import SwapTransition kivy.uix.screenmanager.SwapTransition
#:import WipeTransition kivy.uix.screenmanager.WipeTransition
#:import FallOutTransition kivy.uix.screenmanager.FallOutTransition
#:import RiseInTransition kivy.uix.screenmanager.RiseInTransition
#:import CheckBox kivy.uix.checkbox
#:import ListAdapter kivy.adapters.listadapter.ListAdapter
#:import main GSmell

<PantallaScreen>:
    name: 'PantallaScreen'
    id: PantallaScreen
    BoxLayout:
        id: PantallaLayout
        orientation: 'vertical'
        rows: 2
        color: 1,0.9,0.8,1 
        BoxLayout:
            orientation: 'horizontal'
            id: upperBar
            space: 40
            size_hint: 1, .05
            Button:
                id: menuButton
                text: "Menu"
                size_hint: .07, 1
                on_press: root.mostrar_menu()
            Label:
                id: textoPantalla
                text: "ALCE"
                font_color: 0,1,0,1
                size_hint: .15, 1
            BoxLayout:
                
            Button:
                id: srchButton
                text: "Srch"
                size_hint: .07, 1

        
        Sm:
            id: Screens

   
<LoginScreen>:
    id: LoginScreen
    name: 'LoginScreen'
    BoxLayout:
        orientation: 'vertical'
        space: 20
        size_hint: .4, .4
        pos_hint: {'center_x': .5, 'center_y': .5}
        Label:
            id:LoginLabel
            text: "Login"
            size_hint: 1, .1
        TextInput:
            id: inputCorreoL
            hint_text: "Correo"
            size_hint: 1, .2
            multiline: False
        TextInput:
            id: inputContrasenaL
            password:True
            hint_text: "Contrasena"
            size_hint: 1, .2
            multiline: False
        Button:
            text: "Ingresar"
            size_hint: 1, .2
            on_press: root.validar_login()
        Label:
            id: loginIncorrectoLabel
            text:""
            size_hint: 1, .2
        BoxLayout:
            size_hint: 1, .1
            orientation: 'horizontal'
            Label:
                text: "No tienes cuenta?"
            Button:
                id: linkRegistro
                text: "Registrate!"
                on_press:  root.manager.current='RegisterScreen'

<RegisterScreen>:
    id: ScreenLayout
    name: 'RegisterScreen'
    BoxLayout: 
        id: ScreenLayout
        orientation: 'vertical'
        space: 20
        size_hint: .4, .4
        pos_hint: {'center_x': .5, 'center_y': .5}
        Label:
            id: RegisterLabel
            text: "Registro"
            size_hint: 1, .1
        TextInput:
            id: inputCorreo
            hint_text: "Correo"
            size_hint: 1, .2
            multiline: False
        TextInput:
            id: inputContrasena
            hint_text: "Contrase√±a"
            size_hint: 1, .2
            multiline: False
        Button:
            id: ButtonRegistrarse
            text: "Registrarse"
            size_hint: 1, .2
            on_press: root.registrar()
            on_press: root.manager.current='LoginScreen'
        GridLayout:
            size_hint: 1, .2
        BoxLayout:
            size_hint: 1, .1
            orientation: 'horizontal'
            Label:
                text: "Ya tienes una cuenta?"
            Button:
                id: linkLogin
                text: "Ingresa!"
                on_press: root.manager.current='LoginScreen'

<MenuPop>:
    id: MenuPopup
    title: ""
    separator_height: 0
    size_hint: .2, 1
    pos_hint: {'x': 0, 'top': 1}
    pos: 0, 500
    BoxLayout:
        orientation: 'vertical'
        space: 10
        Button:
            id: ButtonEstadisticas
            text:"Estadisticas"
            size_hint: 1, .07
            on_press: root.pasar_a_estadisticas()
        Button:
            id: ButtonPersonas
            text:"Personas"
            size_hint: 1, .07
            on_press: root.pasar_a_personas()
        Button:
            id: ButtonAromas
            text: "Imagenes"
            size_hint: 1, .07
            on_press: root.pasar_a_aromas()
        BoxLayout:

        Button:
            id: ButtonSalir
            text: "Salir"
            size_hint: 1, .07
            on_press: root.salir()


<Brain>:
    name: 'Brain'
    Button:
        background_normal: "Imagenes/Brain1.jpg"
        on_press: root.manager.current='Experimentos'
<Estadisticas>:
    name: 'Estadisticas'
    canvas:
        Color:
            rgb: 1,1,1
        Rectangle:
            size: self.size
            pos: self.pos
    BoxLayout:
        orientation: 'vertical'
        
        BoxLayout:
            orientation: 'horizontal'
            size_hint: 1, .07
            canvas:
                Color:
                    rgb: 0, 0.7, 0.9
                Rectangle:
                    size: self.size
                    pos: self.pos
            BoxLayout:
                Label:
                    id: label2
                    color: 0,0,0,1
                    text: 'Busqueda'
                    size_hint: None, 1
                    width: 155
                Spinner:
                    id: spinner_genero
                    text: 'Genero'
                    values: ['Masculino', 'Femenino']
                    size_hint: None, 1
                    width: 155
                    on_text: root.drop_down_list_gen(spinner_genero.text)
                Spinner:
                    id: spinner_rango
                    text: 'Edad'
                    values: ['18-29', '30-55', '56-75']
                    size_hint: None, 1
                    width: 155
                    on_text: root.drop_down_list_ran(spinner_rango.text)
                Button:
                    size_hint: None, 1
                    width: 155
                    text: "Refrescar"
                    on_press: root.actualizar()
                

        BoxLayout:
            orientation: 'vertical'
            size_hint: 1, .93
            rows: 3
            canvas:
                Color:
                    rgb: 1,1,1
                Rectangle:
                    size: self.size
                    pos: self.pos
            BoxLayout:
                orientation: 'horizontal'
                space: 5
                Button:
                    background_normal: 'Graficas/fig0.jpg'
                    on_press: root.mostrar(self)
                Button:
                    background_normal: 'Graficas/fig1.jpg'
                    on_press: root.mostrar(self)
                Button:
                    background_normal: 'Graficas/fig2.jpg'
                    on_press: root.mostrar(self)
            BoxLayout:
                orientation: 'horizontal'
                cols: 3
                space: 5
                Button:
                    background_normal: 'Graficas/fig3.jpg'
                    on_press: root.mostrar(self)
                Button:
                    background_normal: 'Graficas/fig4.jpg'
                    on_press: root.mostrar(self)
                Label:
            BoxLayout:
            
            
<Personas>:
    name: 'Personas'
    BoxLayout:
        orientation: 'vertical'
        ListView:
            id: ListaPerr
            adapter: ListAdapter(data=main.listaNomPer, cls=main.listadebotones)
        Button:
            text: "Crear persona"
            on_press: root.crearPer()
            size_hint: .3, .1

<personasPopUp>:
    id: personasPopUp
    title: "Crear persona"
    title_align: 'center'
    separator_height: 0.9
    size_hint: .6, 0.7
    pos_hint: {'x': 0.2, 'top': 0.75}
    pos: 0, 500
    on_dismiss: root.clear()
    BoxLayout:
        orientation: 'vertical'
        space: 10
        TextInput:
            id: inputIdP
            hint_text: "Id"
            size_hint: 1, .30
            multiline: False
        TextInput:
            id: inputNombreP
            hint_text: "Nombre persona"
            size_hint: 1, .30
            multiline: False
        TextInput:
            id: inputEdadP
            hint_text: "Edad"
            size_hint: 1, .30
            multiline: False
        BoxLayout:
            orientation:"horizontal"
            size_hint: 1, .30
            Spinner:
                id: spinnerIdGenero
                text: "Seleccionar genero"
                values: ["Femenino", "Masculino"] 
        BoxLayout:
            orientation:'horizontal'
            Button:
                id: imgenCP
                background_normal: 'Imagenes/1.jpg'
                size_hint: .5, .9
            Button:
                text: "Evaluar"
                on_press: root.evaluarImagen()
                size_hint: .3, .2
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .3
            Button:
                id: ButtonCrear
                text: "Crear"
                size_hint: 1, .7
                on_press: root.crearPer()
            Button:
                id: ButtonSalirCrear
                text: "Salir"
                size_hint: 1, .7
                on_press: root.dismiss()


<confirmarPerPop>:
    id: confirmarPerPopup
    title: ""
    title_align: 'center'
    separator_height: 0
    size_hint: .4, 0.3
    pos_hint: {'x': 0.3, 'top': 0.65}
    pos: 0, 500
    BoxLayout:
        orientation: 'vertical'
        Label:
            text: "Persona registrada"
        BoxLayout:
            orientation: "horizontal"
            Button:
                id: ButtonSalirCrear
                text: "Salir"
                size_hint: 1, .22
                on_press: root.dismiss()


<Imagenes>:
    name:'Imagenes'
    BoxLayout:
        orientation: 'vertical'
        rows: 4
        BoxLayout:
            orientation: 'horizontal'
            space: 5
            Button:
                background_normal: 'Imagenes/1.jpg'
                on_press: root.mostrar(self)
            Button:
                background_normal: 'Imagenes/2.jpg'
                on_press: root.mostrar(self)
            Button:
                background_normal: 'Imagenes/3.jpg'
                on_press: root.mostrar(self)
            Button:
                background_normal: 'Imagenes/4.jpg'
                on_press: root.mostrar(self)
        BoxLayout:
            orientation: 'horizontal'
            cols: 4
            space: 5
            Button:
                background_normal: 'Imagenes/5.jpg'
                on_press: root.mostrar(self)
            Label:
            Label:
            Label:
        BoxLayout:
        BoxLayout:
            


        
<Ssm>:
    id: Sscreens
    transition: FallOutTransition()
    LoginScreen:
    RegisterScreen:
    PantallaScreen:
<Sm>:
    id: Screens
    transition: SlideTransition()
    Brain:
    Estadisticas:
    Personas:
    Imagenes:
<ListItemButton>:
    selected_color: 0, 0.6, 1, 1
    deselected_color: 0.6, 0.6, 0.6, 1
    Resultados: